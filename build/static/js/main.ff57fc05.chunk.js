(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{228:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},247:function(e,t,n){e.exports=n(351)},252:function(e,t,n){},253:function(e,t,n){},272:function(e,t,n){},273:function(e,t,n){},342:function(e,t,n){},343:function(e,t,n){},344:function(e,t,n){},345:function(e,t,n){},351:function(e,t,n){"use strict";n.r(t);var a,i=n(0),r=n.n(i),o=n(16),c=n.n(o),s=(n(252),n(22)),l=n(23),u=n(25),m=n(24),d=n(26),f=(n(253),n(228)),p=n.n(f),h=n(140),y=n(74),v=n(229),b=n.n(v),g={productList:[],getProduct:function(e){return null},removeProduct:function(e){}},E=r.a.createContext(g),O=E.Consumer,C=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={productList:g.productList,getProduct:function(e){console.log("context get product");var t=n.state.productList.find(function(t){return t.id===e});return t||null},removeProduct:function(e){console.log("context remove product"),n.setState({productList:n.state.productList.filter(function(t){return t.id!==e})})}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;b.a.get("./assets/products.json").then(function(t){setTimeout(function(){console.log("data retrieved ",t),e.setState({productList:t.data.productList})},500)})}},{key:"render",value:function(){return r.a.createElement(E.Provider,{value:this.state},this.props.children)}}]),t}(i.Component),j=(n(272),function e(t,n){Object(s.a)(this,e),this.content=t,this.error=n}),w={"#00FFFF":"AQUA","#000000":"BLACK","#0000FF":"BLUE","#FF00FF":"FUCHSIA","#808080":"GRAY","#008000":"GREEN","#00FF00":"LIME","#800000":"MAROON","#000080":"NAVY","#808000":"OLIVE","#800080":"PURPLE","#FF0000":"RED","#C0C0C0":"SILVER","#008080":"TEAL","#FFFFFF":"WHITE","#FFFF00":"YELLOW"},N=[{dictionaryName:"Dictionary 1",mutations:{"#008000":"#00FF00","#008080":"#0000FF"}},{dictionaryName:"Dictionary 2",mutations:{"#800080":"#FF00FF","#008000":"#800000"}}],D=r.a.createContext({}),k=D.Consumer,F=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={currentDictionary:null,dictionaries:N,getDictionaries:function(){return N},getColorDescription:function(e){var t=w[e];return t||null},getColorList:function(){return w},activateDictionary:function(e){console.info("context - activating dictionary"),n.setState({currentDictionary:n.state.currentDictionary!==e?e:null})},createDictionary:function(e){return console.info("context - creating dictionary"),new Promise(function(t,a){if(n.state.dictionaries.find(function(t){return t.dictionaryName===e}))return a(new j("This dictionary already exists"));var i={dictionaryName:e,mutations:{}};n.state.dictionaries.push(i),n.setState({dictionaries:n.state.dictionaries}),t(new j("Dictionary successfully added"))})},deleteDictionary:function(e){return console.info("context - deleting dictionary ..."),new Promise(function(t,a){var i=n.state.dictionaries.findIndex(function(t){return t.dictionaryName===e});if(void 0===i)return a(new j("Dictionary does not exist"));n.state.dictionaries.splice(i,1),n.setState({dictionaries:n.state.dictionaries}),t(new j("Dictionary successfully removed"))})},addDictionaryItem:function(e,t,a){return console.info("context - adding dictionary mutation ..."),new Promise(function(i,r){setTimeout(function(){var o=n.state.dictionaries.find(function(t){return t.dictionaryName===e});return o?o.mutations[t]?r(new j("Item already present",!0)):t===a?r(new j("Colors shall be different",!0)):(o.mutations[t]=a,n.setState({dictionaries:n.state.dictionaries}),void i(new j("Item successfully added"))):r(new j("No dictionary found"))},600)})},updateDictionaryItem:function(e,t,a,i){return console.info("context - updating dictionary mutation ..."),new Promise(function(r,o){setTimeout(function(){var c=n.state.dictionaries.find(function(t){return t.dictionaryName===e});return c?c.mutations[a]&&t!==a?o(new j("Item already present",!0)):a===i?o(new j("Colors shall be different",!0)):(delete c.mutations[t],c.mutations[a]=i,n.setState({dictionaries:n.state.dictionaries}),void r(new j("Item successfully updted"))):o(new j("No dictionary found"))},600)})},removeDictionaryItem:function(e,t){return console.info("context - removing dictionary item ..."),new Promise(function(a,i){setTimeout(function(){var r=n.state.dictionaries.find(function(t){return t.dictionaryName===e});if(!r)return i(new j("No dictionary found"));delete r.mutations[t],n.setState({dictionaries:n.state.dictionaries}),a(new j("Item successfully removed"))},600)})},getColorMutation:function(e){var t=n.getActiveDictionaryObj(),a=e;return t&&t.mutations[e]&&(a=t.mutations[e]),a}},n.getActiveDictionaryObj=function(){return n.state.currentDictionary?n.state.getDictionaries().find(function(e){return e.dictionaryName===n.state.currentDictionary}):null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"findDictionary",value:function(e){return this.state.dictionaries.find(function(t){return t.dictionaryName===e})}},{key:"render",value:function(){return r.a.createElement(D.Provider,{value:this.state},this.props.children)}}]),t}(i.Component),S=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.product;return r.a.createElement(D.Consumer,null,function(t){var n=t.getColorMutation(e.color);return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:"assets/img/iphone.jpg",alt:"smartphone"}),r.a.createElement("span",{className:"card-title"},e.name)),r.a.createElement("div",{className:"card-content",style:{backgroundColor:n}},r.a.createElement("div",{className:"product-color-description"},t.getColorDescription(n)),r.a.createElement("div",{className:"product-price"},"CHF\xa0",e.price)))})}}]),t}(i.Component),I=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.productsList;return r.a.createElement("div",{className:"row"},e.map(function(e,t){return r.a.createElement("div",{className:"col s12 m4",key:t},r.a.createElement(S,{product:e}))}))}}]),t}(i.Component),x=n(190),A=n(191),L=(n(273),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(k,null,function(e){return r.a.createElement(x.a,{className:"text-center dictionary-list-selection"},e.getDictionaries().map(function(t,n){return r.a.createElement(A.a,{key:n,onClick:function(){return n=t.dictionaryName,void e.activateDictionary(n);var n},variant:"contained",className:t.dictionaryName===e.currentDictionary?"primary-btn":"dictionary-default"},t.dictionaryName)}))})}}]),t}(i.Component)),R=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={pageTitle:"Product Store Backoffice"},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(O,null,function(t){return r.a.createElement(i.Fragment,null,r.a.createElement("div",{className:"page-title"},e.state.pageTitle),r.a.createElement(L,null),r.a.createElement(I,{productsList:t.productList}))})}}]),t}(i.Component),M=n(231),P=n.n(M),T=n(207),U=n(197),B=n(205);!function(e){e[e.INFO=0]="INFO",e[e.SUCCESS=1]="SUCCESS",e[e.ERROR=2]="ERROR"}(a||(a={}));var W=r.a.createContext({}),H=(W.Consumer,function(e){function t(){var e,n;Object(s.a)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,message:"default",newInfoMessage:function(e){n.setState({open:!0,message:e})},newSuccessMessage:function(e){n.setState({open:!0,message:e,status:a.SUCCESS})},newErrorMessage:function(e){n.setState({open:!0,message:e,status:a.ERROR})},status:a.INFO},n.handleClick=function(){n.setState({open:!0})},n.handleClose=function(e,t){"clickaway"!==t&&n.setState({open:!1})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getMessageColor",value:function(e){switch(e){case a.INFO:return"message-info";case a.SUCCESS:return"message-success";case a.ERROR:return"message-error";default:return"message-info"}}},{key:"render",value:function(){return r.a.createElement(W.Provider,{value:this.state},r.a.createElement(T.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},className:this.getMessageColor(this.state.status),open:this.state.open,autoHideDuration:2e3,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.message),action:[r.a.createElement(U.a,{key:"close","aria-label":"Close",color:"inherit",className:"class_status",onClick:this.handleClose},r.a.createElement(B.a,null,"close"))]}),this.props.children)}}]),t}(i.Component)),V=(n(342),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).columns=[{title:"from",field:"from",lookup:n.props.colors},{title:"to",field:"to",lookup:n.props.colors}],n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"addDictionaryItem",value:function(e,t,n){var a=this;return this.props.onAddItem(e,t,n).then(function(e){a.context.newSuccessMessage(e.content)},function(e){a.context.newErrorMessage(e.content)})}},{key:"updateItem",value:function(e,t,n,a){var i=this;return this.props.onUpdateItem(e,t,n,a).then(function(e){i.context.newSuccessMessage(e.content)},function(e){i.context.newErrorMessage(e.content)})}},{key:"removeItem",value:function(e,t){var n=this;return this.props.onRemoveItem(e,t).then(function(e){n.context.newSuccessMessage(e.content)},function(e){n.context.newErrorMessage(e.content)})}},{key:"deleteDictionary",value:function(){var e=this;return this.props.onDeleteDictionary(this.props.dictionary.dictionaryName).then(function(t){e.context.newSuccessMessage(t.content)},function(t){e.context.newErrorMessage(t.content)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"dictionary-table"},r.a.createElement(P.a,{title:this.props.dictionary.dictionaryName,columns:this.columns,options:{actionsColumnIndex:-1},data:Object.keys(this.props.dictionary.mutations).map(function(t){return{from:t,to:e.props.dictionary.mutations[t]}}),editable:{onRowAdd:function(t){return e.addDictionaryItem(e.props.dictionary.dictionaryName,t.from,t.to)},onRowUpdate:function(t,n){return e.updateItem(e.props.dictionary.dictionaryName,n.from,t.from,t.to)},onRowDelete:function(t){return e.removeItem(e.props.dictionary.dictionaryName,t.from)}}}),r.a.createElement("div",{className:"remove-dictionary"},r.a.createElement(A.a,{variant:"contained",size:"small",onClick:function(){return e.deleteDictionary()},className:"warning-btn"},r.a.createElement(B.a,null,"delete"),"Delete")))}}]),t}(i.Component));V.contextType=W;var Y=V,z=(n(343),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.message;return r.a.createElement("p",{className:"alert-box"},e)}}]),t}(i.Component)),G=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(k,null,function(e){var t;return t=e.getDictionaries().length>0?e.getDictionaries().map(function(t,n){return r.a.createElement("div",{className:"col s12 m4 margin-md-bottom",key:n},r.a.createElement(Y,{dictionary:t,colors:e.getColorList(),onDeleteDictionary:e.deleteDictionary,onAddItem:e.addDictionaryItem,onUpdateItem:e.updateDictionaryItem,onRemoveItem:e.removeDictionaryItem}))}):r.a.createElement(z,{message:"No item found"}),r.a.createElement("div",{className:"row"},t)})}}]),t}(i.Component),J=n(204),_=n(210),K=(n(344),n(241)),Q=n(203),$=n(199),q=n(202),X=(n(345),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).handleClose=function(){n.props.onClose()},n.handleListItemClick=function(e){n.props.onClose()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.onClose,t.title),a=Object(K.a)(t,["onClose","title"]);return r.a.createElement($.a,Object.assign({maxWidth:"sm",className:"full-width",onClose:this.handleClose},a),r.a.createElement(Q.a,{className:"modal-title"},n,r.a.createElement(B.a,{className:"modal-btn-close",onClick:function(){e.handleClose()}},"close")),r.a.createElement(q.a,null,this.props.children))}}]),t}(i.Component)),Z=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={open:!1,newDictionaryName:""},n.handleClickOpen=function(){n.setState({newDictionaryName:"",open:!0})},n.handleClose=function(){n.setState({open:!1})},n.handleOnChage=function(e){n.setState({newDictionaryName:e.target.value})},n.handleOnSubmit=function(e){e.preventDefault(),n.props.onAddDictionary(n.state.newDictionaryName).then(function(e){n.context.newSuccessMessage(e.content),n.handleClose()},function(e){n.context.newErrorMessage(e.content)})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(i.Fragment,null,r.a.createElement(J.a,{color:"primary",className:"plusButton primary-btn",onClick:this.handleClickOpen,"aria-label":"Add"},r.a.createElement(B.a,null,"add_icon")),r.a.createElement(X,{title:"add new dictionary",open:this.state.open,onClose:this.handleClose},r.a.createElement("form",{onSubmit:function(t){return e.handleOnSubmit(t)}},r.a.createElement("div",{className:"row"},r.a.createElement(_.a,{autoFocus:!0,className:"full-width",label:"Dictionary Name",value:this.state.newDictionaryName,onChange:this.handleOnChage,margin:"normal",variant:"outlined"})),r.a.createElement("div",{className:"row"},r.a.createElement(A.a,{variant:"contained",disabled:!this.state.newDictionaryName,type:"submit",className:"primary-btn no-margin"},"Add")))))}}]),t}(i.Component);Z.contextType=W;var ee=Z,te=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={pageTitle:"Available Dictionaries"},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(k,null,function(t){return r.a.createElement(i.Fragment,null,r.a.createElement("div",{className:"page-title"},e.state.pageTitle),r.a.createElement(G,null),r.a.createElement(ee,{onAddDictionary:t.createDictionary}))})}}]),t}(i.Component),ne=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(H,null,r.a.createElement(F,null,r.a.createElement(C,null,r.a.createElement(h.a,null,r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo center"},r.a.createElement("img",{src:p.a,className:"app-logo",alt:"logo"})),r.a.createElement("ul",{className:"left"},r.a.createElement("li",null,r.a.createElement(h.b,{exact:!0,activeClassName:"active",to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(h.b,{exact:!0,activeClassName:"active",to:"/dictionaries"},"Dictionaries"))))),r.a.createElement("div",{className:"app-container"},r.a.createElement(y.a,{exact:!0,path:"/",component:R}),r.a.createElement(y.a,{path:"/dictionaries",component:te}))))))}}]),t}(i.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[247,1,2]]]);
//# sourceMappingURL=main.ff57fc05.chunk.js.map